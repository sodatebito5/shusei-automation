# PROGRESS - 進捗サマリー

> 最終更新: 2026-02-01
>
> **Claude Code**: タスク完了時にこのファイルの進捗率を更新すること

## 📊 全体進捗

| 機能 | 状態 | 進捗 | 備考 |
|------|------|------|------|
| 出欠連絡 | 🟢 完了 | 100% | LIFF実装・本番運用中 |
| 売上報告 | 🟢 完了 | 100% | LIFF実装・本番運用中、個別売上機能追加 |
| ゲスト申請 | 🟢 完了 | 100% | LIFF実装・本番運用中 |
| 自動配席 | 🟢 完了 | 100% | 本番デプロイ完了、API統合済 |
| 配席API統合 | 🟢 完了 | 100% | ダッシュボードGASに統合完了 |
| 配席アーカイブ | 🟢 完了 | 100% | 履歴保存・履歴タブ実装済 |
| ダッシュボード | 🟡 開発中 | 90% | 式次第PDF生成のみ残り |
| イベントキー自動切替 | 🟢 完了 | 100% | 時刻ベース自動切替 |
| 役割分担編集 | 🟡 開発中 | 95% | 基本機能完成・保存バグ修正済、式次第連携残り |
| 他会場フォーム連携 | 🟢 完了 | 100% | フォーム作成・転記処理・UIボタン追加完了 |
| チェックイン機能 | 🟡 開発中 | 90% | GAS API・ダッシュボードUI・LIFF完成、本番セットアップ残り |
| **会員名簿編集** | 🟢 完了 | 100% | Phase 1完了（CRUD・検索・フィルタ・パスワード保護） |
| **出欠リマインド送信** | 🟢 完了 | 100% | LINE未回答者リマインド送信機能 |
| **連絡網グループ表示** | 🟢 完了 | 100% | グループ別メンバー一覧・印刷対応 |
| 配席アーカイブ読み込み | 🟢 完了 | 100% | 途中から配席再開機能 |
| スケジュール | ⚪ 未着手 | 0% | - |
| UIデザイン刷新 | ⚪ 未着手 | 0% | カラー・レイアウト統一 |

**凡例**: 🟢 完了 / 🟡 開発中 / 🔴 ブロック中 / ⚪ 未着手

---

## 🎯 現在のフォーカス

### 次にやること
- [ ] チェックイン機能 本番セットアップ
  - LINE Developers ConsoleでLIFF ID発行
  - web/checkin/index.htmlのLIFF_IDを更新
  - Cloudflare Pagesにデプロイ
  - GASエディタでsetupCheckinColumns()を1回実行
- [ ] 式次第PDF生成（レイアウト調整）

### バックログ

#### 配席アーカイブ読み込み機能
- 配席アプリでアーカイブから過去の配席を読み込み
- 途中から配席を再開・編集可能に

#### 役割分担編集ページ
- 配席アーカイブから役割ある人を抽出
- カード形式でドラッグ&ドロップ編集

---

## 📅 マイルストーン

| マイルストーン | 目標日 | 状態 |
|----------------|--------|------|
| コア機能完了 | 2026-01-12 | 🟢 |
| 配席API統合完了 | 2026-01-12 | 🟢 |
| MVP完成（全機能動作） | TBD | 🟡 |
| 引き継ぎドキュメント完成 | TBD | ⚪ |

---

## 📝 最近の更新

### 2026-02-01
- **同席希望カードのglowエフェクト**
  - 希望者と希望先が同じ色で光るアニメーション
  - 複数ペアは5色（黄・ピンク・シアン・紫・ライム）で色分け
  - IDベースカラーマッピング + あいまい名前検索
  - 敬称（様/さん/くん/ちゃん）除去で名前マッチング改善

### 2026-01-31
- **出欠リマインド送信機能 実装完了**
  - ダッシュボード出欠管理タブに「出欠リマインド管理」ボタン追加
  - GAS API: getUnrespondedMembersForReminder(), sendAttendanceReminder(), sendAttendanceReminderDryRun()
  - 未回答者を会員名簿マスター×出欠状況から自動抽出
  - LINE送信可能/未登録で分けて表示
  - テスト実行（ドライラン）機能
  - 本番送信（確認ダイアログ付き）
  - 送信結果表示
- **連絡網グループ表示機能 実装完了**
  - GAS API: getContactGroups()
  - 専用ページ contact.html（?page=contact でアクセス）
  - 会員名簿マスター AB列（グループ）、AC列（リーダーフラグ）、AD列（連絡網順序）を使用
  - グループ別にリーダー＋メンバー一覧表示
  - 印刷対応（A4横向き、2カラムレイアウト）
  - スマホ対応UI

### 2026-01-30
- **会員名簿編集機能（Phase 1）実装完了**
  - GAS API: getMembersForEdit(), updateMember(), addMember(), retireMember(), verifyMemberEditPassword()
  - ダッシュボード「会員管理」タブ追加
  - カード形式の会員一覧表示（バッジ絵文字、氏名、チーム、更新月）
  - 検索・フィルタ機能（名前、チーム、バッジ、更新月、退会者表示）
  - 編集モーダル（全項目編集対応）
  - パスワード保護（設定シートK2セル）
  - 新規会員追加（会員ID自動採番）
  - 退会処理（AA列に「退会」フラグ、論理削除）
  - スマホ対応UI

### 2026-01-29
- **チェックイン機能 実装**
  - Phase 1: GAS API追加（doCheckin, getCheckinStatus, updateCheckinField, manualCheckin）
  - Phase 2: ダッシュボードUI（例会当日タブ → チェックイン管理画面）
  - Phase 3: チェックインLIFF作成（web/checkin/index.html）
  - 受付名簿に列追加API（setupCheckinColumns）
  - 到着/未到着/バッジ未返却フィルタ
  - バッジ貸出・返却チェック、領収書番号入力
  - LockServiceによる排他制御

### 2026-01-25
- **他会場フォーム連携 完了**
  - syncFormResponsesToOtherVenueMaster() 実装
  - フォーム回答 → 他会場名簿マスター自動転記
  - 重複チェック（同一EVENT_KEY + 氏名）
  - バッジ変換（正会員→正、ゴールド→ゴ）
  - ゲスト同伴時の別行追加対応
  - ダッシュボードに「フォーム回答を同期」ボタン追加

### 2026-01-14
- **他会場参加申込フォーム自動作成**
  - createOtherVenueFormV4() 実装
  - 会場マスターから地域・会場リスト取得（313会場）
  - 設定シートD列から例会日程取得（直近3回）
  - フォーム項目：例会、所属会場、バッジ、役割、氏名、フリガナ、会社名、役職、営業内容、紹介者、ブース出店、ゲスト同伴、メールアドレス
  - 回答はスプレッドシートに自動連携
- **GASプロジェクト整理**
  - gas/dashboard/, gas/seat-maker/ をarchive/に移動
  - shusei-dashboard-v3/ がメインダッシュボード
  - gas/attendance/ が出欠アプリ+他会場フォーム
- **役割分担編集機能（基本実装+モバイル最適化）**
  - getRoleAssignments(), saveRoleAssignments(), getRoleCandidates() API実装
  - 役割分担タブ・カード形式UI・プルダウン選択
  - モバイル最適化（大きなタッチターゲット・アイコン・交互背景色）
  - イベント単位でデータ保存
- **例会当日ページ イベントキー独立化**
  - 設定シートI2セル参照、テーブルマスター空欄除外
- **式次第機能（PDF生成以外完了）**
  - プレビュー画面、項目並び替え、編集機能、自動データ取得
- **履歴タブ追加**
  - getEventKeyList(), getParticipantHistory() API実装
  - 過去の例会参加者を一覧表示
  - 会員/ゲスト/他会場フィルタ
- **個別売上機能**
  - パスワード認証付き売上詳細表示
  - 月別切り替え対応
- **売上eventKeyフォーマット変更対応**
  - 「11月_売上報告」→「2025年11月_売上報告」形式
- **出欠アプリ eventKey判定修正**
  - eventKey変更時は新規行追加

### 2026-01-13
- **イベントキー自動切り替えシステム 完了**
  - 設定シートにF列・G列追加（次月イベントキー・次月開催日）
  - 切り替えタイミング: ダッシュボード11:00、出欠/ゲスト12:00

### 2026-01-12
- **配席API統合 完了（Phase 1-5）**
- 自動配席アプリ本番デプロイ（seat-maker2.pages.dev）
- GASプロジェクト統合（守成ダッシュボード_v3 に一本化）

---

## 🚧 ブロッカー・課題

| 課題 | 影響範囲 | 対応案 |
|------|----------|--------|
| （現在なし） | - | - |

---

## 📈 週次サマリー

<details>
<summary>2026-W03（1/13-1/19）</summary>

**完了**
- イベントキー自動切り替えシステム
- 履歴タブ追加
- 個別売上機能
- 売上eventKeyフォーマット変更対応

**進行中**
- 式次第機能

</details>

<details>
<summary>2026-W02（1/6-1/12）</summary>

**完了**
- ドキュメント構造整備
- 自動配席アプリ本番デプロイ
- ダッシュボード連携
- 配席API統合

</details>
